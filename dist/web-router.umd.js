!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((n=n||self).webRouterJs={})}(this,function(n){function t(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}var r="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},e=Array.prototype,u=Object.prototype,i="undefined"!=typeof Symbol?Symbol.prototype:null,o=e.push,a=e.slice,f=u.toString,c=u.hasOwnProperty,l="undefined"!=typeof ArrayBuffer,s="undefined"!=typeof DataView,p=Array.isArray,v=Object.keys,h=Object.create,d=l&&ArrayBuffer.isView,y=isNaN,g=isFinite,b=!{toString:null}.propertyIsEnumerable("toString"),m=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],w=Math.pow(2,53)-1;function j(n,t){return t=null==t?n.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),e=Array(r),u=0;u<r;u++)e[u]=arguments[u+t];switch(t){case 0:return n.call(this,e);case 1:return n.call(this,arguments[0],e);case 2:return n.call(this,arguments[0],arguments[1],e)}var i=Array(t+1);for(u=0;u<t;u++)i[u]=arguments[u];return i[t]=e,n.apply(this,i)}}function A(n){var t=typeof n;return"function"===t||"object"===t&&!!n}function x(n){return void 0===n}function _(n){return!0===n||!1===n||"[object Boolean]"===f.call(n)}function E(n){var t="[object "+n+"]";return function(n){return f.call(n)===t}}var S=E("String"),O=E("Number"),k=E("Date"),I=E("RegExp"),M=E("Error"),L=E("Symbol"),R=E("ArrayBuffer"),B=E("Function");"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof(r.document&&r.document.childNodes)&&(B=function(n){return"function"==typeof n||!1});var N=B,D=E("Object"),F=s&&D(new DataView(new ArrayBuffer(8))),P="undefined"!=typeof Map&&D(new Map),T=E("DataView"),K=F?function(n){return null!=n&&N(n.getInt8)&&R(n.buffer)}:T,V=p||E("Array");function q(n,t){return null!=n&&c.call(n,t)}var U=E("Arguments");!function(){U(arguments)||(U=function(n){return q(n,"callee")})}();var W=U;function C(n){return O(n)&&y(n)}function z(n){return function(){return n}}function $(n){return function(t){var r=n(t);return"number"==typeof r&&r>=0&&r<=w}}function J(n){return function(t){return null==t?void 0:t[n]}}var G=J("byteLength"),H=$(G),Q=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,X=l?function(n){return d?d(n)&&!K(n):H(n)&&Q.test(f.call(n))}:z(!1),Y=J("length");function Z(n,t){t=function(n){for(var t={},r=n.length,e=0;e<r;++e)t[n[e]]=!0;return{contains:function(n){return t[n]},push:function(r){return t[r]=!0,n.push(r)}}}(t);var r=m.length,e=n.constructor,i=N(e)&&e.prototype||u,o="constructor";for(q(n,o)&&!t.contains(o)&&t.push(o);r--;)(o=m[r])in n&&n[o]!==i[o]&&!t.contains(o)&&t.push(o)}function nn(n){if(!A(n))return[];if(v)return v(n);var t=[];for(var r in n)q(n,r)&&t.push(r);return b&&Z(n,t),t}function tn(n,t){var r=nn(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;i<e;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0}function rn(n){return n instanceof rn?n:this instanceof rn?void(this._wrapped=n):new rn(n)}function en(n){return new Uint8Array(n.buffer||n,n.byteOffset||0,G(n))}function un(n){if(!A(n))return[];var t=[];for(var r in n)t.push(r);return b&&Z(n,t),t}function on(n){var t=Y(n);return function(r){if(null==r)return!1;var e=un(r);if(Y(e))return!1;for(var u=0;u<t;u++)if(!N(r[n[u]]))return!1;return n!==sn||!N(r[an])}}rn.VERSION="1.13.1",rn.prototype.valueOf=rn.prototype.toJSON=rn.prototype.value=function(){return this._wrapped},rn.prototype.toString=function(){return String(this._wrapped)};var an="forEach",fn=["clear","delete"],cn=["get","has","set"],ln=fn.concat(an,cn),sn=fn.concat(cn),pn=["add"].concat(fn,an,"has"),vn=P?on(ln):E("Map"),hn=P?on(sn):E("WeakMap"),dn=P?on(pn):E("Set"),yn=E("WeakSet");function gn(n){for(var t=nn(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=n[t[u]];return e}function bn(n){for(var t={},r=nn(n),e=0,u=r.length;e<u;e++)t[n[r[e]]]=r[e];return t}function mn(n){var t=[];for(var r in n)N(n[r])&&t.push(r);return t.sort()}function wn(n,t){return function(r){var e=arguments.length;if(t&&(r=Object(r)),e<2||null==r)return r;for(var u=1;u<e;u++)for(var i=arguments[u],o=n(i),a=o.length,f=0;f<a;f++){var c=o[f];t&&void 0!==r[c]||(r[c]=i[c])}return r}}var jn=wn(un),An=wn(nn),xn=wn(un,!0);function _n(n){if(!A(n))return{};if(h)return h(n);var t=function(){};t.prototype=n;var r=new t;return t.prototype=null,r}function En(n){return A(n)?V(n)?n.slice():jn({},n):n}function Sn(n){return V(n)?n:[n]}function On(n){return rn.toPath(n)}function kn(n,t){for(var r=t.length,e=0;e<r;e++){if(null==n)return;n=n[t[e]]}return r?n:void 0}function In(n,t,r){var e=kn(n,On(t));return x(e)?r:e}function Mn(n){return n}function Ln(n){return n=An({},n),function(t){return tn(t,n)}}function Rn(n){return n=On(n),function(t){return kn(t,n)}}function Bn(n,t,r){if(void 0===t)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}}function Nn(n,t,r){return null==n?Mn:N(n)?Bn(n,t,r):A(n)&&!V(n)?Ln(n):Rn(n)}function Dn(n,t){return Nn(n,t,Infinity)}function Fn(n,t,r){return rn.iteratee!==Dn?rn.iteratee(n,t):Nn(n,t,r)}function Pn(){}function Tn(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))}rn.toPath=Sn,rn.iteratee=Dn;var Kn=Date.now||function(){return(new Date).getTime()};function Vn(n){var t=function(t){return n[t]},r="(?:"+nn(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return e.test(n=null==n?"":""+n)?n.replace(u,t):n}}var qn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Un=Vn(qn),Wn=Vn(bn(qn)),Cn=rn.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},zn=/(.)^/,$n={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Jn=/\\|'|\r|\n|\u2028|\u2029/g;function Gn(n){return"\\"+$n[n]}var Hn=/^\s*(\w|\$)+\s*$/,Qn=0;function Xn(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=_n(n.prototype),o=n.apply(i,u);return A(o)?o:i}var Yn=j(function(n,t){var r=Yn.placeholder,e=function(){for(var u=0,i=t.length,o=Array(i),a=0;a<i;a++)o[a]=t[a]===r?arguments[u++]:t[a];for(;u<arguments.length;)o.push(arguments[u++]);return Xn(n,e,this,this,o)};return e});Yn.placeholder=rn;var Zn=j(function(n,t,r){if(!N(n))throw new TypeError("Bind must be called on a function");var e=j(function(u){return Xn(n,e,t,this,r.concat(u))});return e}),nt=$(Y);function tt(n,t,r,e){if(e=e||[],t||0===t){if(t<=0)return e.concat(n)}else t=Infinity;for(var u=e.length,i=0,o=Y(n);i<o;i++){var a=n[i];if(nt(a)&&(V(a)||W(a)))if(t>1)tt(a,t-1,r,e),u=e.length;else for(var f=0,c=a.length;f<c;)e[u++]=a[f++];else r||(e[u++]=a)}return e}var rt=j(function(n,t){var r=(t=tt(t,!1,!1)).length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var e=t[r];n[e]=Zn(n[e],n)}return n}),et=j(function(n,t,r){return setTimeout(function(){return n.apply(null,r)},t)}),ut=Yn(et,rn,1);function it(n){return function(){return!n.apply(this,arguments)}}function ot(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=null),r}}var at=Yn(ot,2);function ft(n,t,r){t=Fn(t,r);for(var e,u=nn(n),i=0,o=u.length;i<o;i++)if(t(n[e=u[i]],e,n))return e}function ct(n){return function(t,r,e){r=Fn(r,e);for(var u=Y(t),i=n>0?0:u-1;i>=0&&i<u;i+=n)if(r(t[i],i,t))return i;return-1}}var lt=ct(1),st=ct(-1);function pt(n,t,r,e){for(var u=(r=Fn(r,e,1))(t),i=0,o=Y(n);i<o;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i}function vt(n,t,r){return function(e,u,i){var o=0,f=Y(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+f,o):f=i>=0?Math.min(i+1,f):i+f+1;else if(r&&i&&f)return e[i=r(e,u)]===u?i:-1;if(u!=u)return(i=t(a.call(e,o,f),C))>=0?i+o:-1;for(i=n>0?o:f-1;i>=0&&i<f;i+=n)if(e[i]===u)return i;return-1}}var ht=vt(1,lt,pt),dt=vt(-1,st);function yt(n,t,r){var e=(nt(n)?lt:ft)(n,t,r);if(void 0!==e&&-1!==e)return n[e]}function gt(n,t,r){var e,u;if(t=Bn(t,r),nt(n))for(e=0,u=n.length;e<u;e++)t(n[e],e,n);else{var i=nn(n);for(e=0,u=i.length;e<u;e++)t(n[i[e]],i[e],n)}return n}function bt(n,t,r){t=Fn(t,r);for(var e=!nt(n)&&nn(n),u=(e||n).length,i=Array(u),o=0;o<u;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i}function mt(n){var t=function(t,r,e,u){var i=!nt(t)&&nn(t),o=(i||t).length,a=n>0?0:o-1;for(u||(e=t[i?i[a]:a],a+=n);a>=0&&a<o;a+=n){var f=i?i[a]:a;e=r(e,t[f],f,t)}return e};return function(n,r,e,u){var i=arguments.length>=3;return t(n,Bn(r,u,4),e,i)}}var wt=mt(1),jt=mt(-1);function At(n,t,r){var e=[];return t=Fn(t,r),gt(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e}function xt(n,t,r){t=Fn(t,r);for(var e=!nt(n)&&nn(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0}function _t(n,t,r){t=Fn(t,r);for(var e=!nt(n)&&nn(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1}function Et(n,t,r,e){return nt(n)||(n=gn(n)),("number"!=typeof r||e)&&(r=0),ht(n,t,r)>=0}var St=j(function(n,t,r){var e,u;return N(t)?u=t:(t=On(t),e=t.slice(0,-1),t=t[t.length-1]),bt(n,function(n){var i=u;if(!i){if(e&&e.length&&(n=kn(n,e)),null==n)return;i=n[t]}return null==i?i:i.apply(n,r)})});function Ot(n,t){return bt(n,Rn(t))}function kt(n,t,r){var e,u,i=-Infinity,o=-Infinity;if(null==t||"number"==typeof t&&"object"!=typeof n[0]&&null!=n)for(var a=0,f=(n=nt(n)?n:gn(n)).length;a<f;a++)null!=(e=n[a])&&e>i&&(i=e);else t=Fn(t,r),gt(n,function(n,r,e){((u=t(n,r,e))>o||-Infinity===u&&-Infinity===i)&&(i=n,o=u)});return i}function It(n,t,r){if(null==t||r)return nt(n)||(n=gn(n)),n[Tn(n.length-1)];var e=nt(n)?En(n):gn(n),u=Y(e);t=Math.max(Math.min(t,u),0);for(var i=u-1,o=0;o<t;o++){var a=Tn(o,i),f=e[o];e[o]=e[a],e[a]=f}return e.slice(0,t)}function Mt(n,t){return function(r,e,u){var i=t?[[],[]]:{};return e=Fn(e,u),gt(r,function(t,u){var o=e(t,u,r);n(i,t,o)}),i}}var Lt=Mt(function(n,t,r){q(n,r)?n[r].push(t):n[r]=[t]}),Rt=Mt(function(n,t,r){n[r]=t}),Bt=Mt(function(n,t,r){q(n,r)?n[r]++:n[r]=1}),Nt=Mt(function(n,t,r){n[r?0:1].push(t)},!0),Dt=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Ft(n,t,r){return t in r}var Pt=j(function(n,t){var r={},e=t[0];if(null==n)return r;N(e)?(t.length>1&&(e=Bn(e,t[1])),t=un(n)):(e=Ft,t=tt(t,!1,!1),n=Object(n));for(var u=0,i=t.length;u<i;u++){var o=t[u],a=n[o];e(a,o,n)&&(r[o]=a)}return r}),Tt=j(function(n,t){var r,e=t[0];return N(e)?(e=it(e),t.length>1&&(r=t[1])):(t=bt(tt(t,!1,!1),String),e=function(n,r){return!Et(t,r)}),Pt(n,e,r)});function Kt(n,t,r){return a.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))}function Vt(n,t,r){return null==n||n.length<1?null==t||r?void 0:[]:null==t||r?n[0]:Kt(n,n.length-t)}function qt(n,t,r){return a.call(n,null==t||r?1:t)}var Ut=j(function(n,t){return t=tt(t,!0,!0),At(n,function(n){return!Et(t,n)})}),Wt=j(function(n,t){return Ut(n,t)});function Ct(n,t,r,e){_(t)||(e=r,r=t,t=!1),null!=r&&(r=Fn(r,e));for(var u=[],i=[],o=0,a=Y(n);o<a;o++){var f=n[o],c=r?r(f,o,n):f;t&&!r?(o&&i===c||u.push(f),i=c):r?Et(i,c)||(i.push(c),u.push(f)):Et(u,f)||u.push(f)}return u}var zt=j(function(n){return Ct(tt(n,!0,!0))});function $t(n){for(var t=n&&kt(n,Y).length||0,r=Array(t),e=0;e<t;e++)r[e]=Ot(n,e);return r}var Jt=j($t);function Gt(n,t){return n._chain?rn(t).chain():t}function Ht(n){return gt(mn(n),function(t){var r=rn[t]=n[t];rn.prototype[t]=function(){var n=[this._wrapped];return o.apply(n,arguments),Gt(this,r.apply(rn,n))}}),rn}gt(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];rn.prototype[n]=function(){var r=this._wrapped;return null!=r&&(t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0]),Gt(this,r)}}),gt(["concat","join","slice"],function(n){var t=e[n];rn.prototype[n]=function(){var n=this._wrapped;return null!=n&&(n=t.apply(n,arguments)),Gt(this,n)}});var Qt=Ht({__proto__:null,VERSION:"1.13.1",restArguments:j,isObject:A,isNull:function(n){return null===n},isUndefined:x,isBoolean:_,isElement:function(n){return!(!n||1!==n.nodeType)},isString:S,isNumber:O,isDate:k,isRegExp:I,isError:M,isSymbol:L,isArrayBuffer:R,isDataView:K,isArray:V,isFunction:N,isArguments:W,isFinite:function(n){return!L(n)&&g(n)&&!isNaN(parseFloat(n))},isNaN:C,isTypedArray:X,isEmpty:function(n){if(null==n)return!0;var t=Y(n);return"number"==typeof t&&(V(n)||S(n)||W(n))?0===t:0===Y(nn(n))},isMatch:tn,isEqual:function(n,t){return function n(t,r,e,u){if(t===r)return 0!==t||1/t==1/r;if(null==t||null==r)return!1;if(t!=t)return r!=r;var o=typeof t;return("function"===o||"object"===o||"object"==typeof r)&&function t(r,e,u,o){r instanceof rn&&(r=r._wrapped),e instanceof rn&&(e=e._wrapped);var a=f.call(r);if(a!==f.call(e))return!1;if(F&&"[object Object]"==a&&K(r)){if(!K(e))return!1;a="[object DataView]"}switch(a){case"[object RegExp]":case"[object String]":return""+r==""+e;case"[object Number]":return+r!=+r?+e!=+e:0==+r?1/+r==1/e:+r==+e;case"[object Date]":case"[object Boolean]":return+r==+e;case"[object Symbol]":return i.valueOf.call(r)===i.valueOf.call(e);case"[object ArrayBuffer]":case"[object DataView]":return t(en(r),en(e),u,o)}var c="[object Array]"===a;if(!c&&X(r)){if(G(r)!==G(e))return!1;if(r.buffer===e.buffer&&r.byteOffset===e.byteOffset)return!0;c=!0}if(!c){if("object"!=typeof r||"object"!=typeof e)return!1;var l=r.constructor,s=e.constructor;if(l!==s&&!(N(l)&&l instanceof l&&N(s)&&s instanceof s)&&"constructor"in r&&"constructor"in e)return!1}o=o||[];for(var p=(u=u||[]).length;p--;)if(u[p]===r)return o[p]===e;if(u.push(r),o.push(e),c){if((p=r.length)!==e.length)return!1;for(;p--;)if(!n(r[p],e[p],u,o))return!1}else{var v,h=nn(r);if(p=h.length,nn(e).length!==p)return!1;for(;p--;)if(!q(e,v=h[p])||!n(r[v],e[v],u,o))return!1}return u.pop(),o.pop(),!0}(t,r,e,u)}(n,t)},isMap:vn,isWeakMap:hn,isSet:dn,isWeakSet:yn,keys:nn,allKeys:un,values:gn,pairs:function(n){for(var t=nn(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=[t[u],n[t[u]]];return e},invert:bn,functions:mn,methods:mn,extend:jn,extendOwn:An,assign:An,defaults:xn,create:function(n,t){var r=_n(n);return t&&An(r,t),r},clone:En,tap:function(n,t){return t(n),n},get:In,has:function(n,t){for(var r=(t=On(t)).length,e=0;e<r;e++){var u=t[e];if(!q(n,u))return!1;n=n[u]}return!!r},mapObject:function(n,t,r){t=Fn(t,r);for(var e=nn(n),u=e.length,i={},o=0;o<u;o++){var a=e[o];i[a]=t(n[a],a,n)}return i},identity:Mn,constant:z,noop:Pn,toPath:Sn,property:Rn,propertyOf:function(n){return null==n?Pn:function(t){return In(n,t)}},matcher:Ln,matches:Ln,times:function(n,t,r){var e=Array(Math.max(0,n));t=Bn(t,r,1);for(var u=0;u<n;u++)e[u]=t(u);return e},random:Tn,now:Kn,escape:Un,unescape:Wn,templateSettings:Cn,template:function(n,t,r){!t&&r&&(t=r),t=xn({},t,rn.templateSettings);var e=RegExp([(t.escape||zn).source,(t.interpolate||zn).source,(t.evaluate||zn).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(Jn,Gn),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n";var o,a=t.variable;if(a){if(!Hn.test(a))throw new Error("variable is not a bare identifier: "+a)}else i="with(obj||{}){\n"+i+"}\n",a="obj";i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{o=new Function(a,"_",i)}catch(n){throw n.source=i,n}var f=function(n){return o.call(this,n,rn)};return f.source="function("+a+"){\n"+i+"}",f},result:function(n,t,r){var e=(t=On(t)).length;if(!e)return N(r)?r.call(n):r;for(var u=0;u<e;u++){var i=null==n?void 0:n[t[u]];void 0===i&&(i=r,u=e),n=N(i)?i.call(n):i}return n},uniqueId:function(n){var t=++Qn+"";return n?n+t:t},chain:function(n){var t=rn(n);return t._chain=!0,t},iteratee:Dn,partial:Yn,bind:Zn,bindAll:rt,memoize:function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return q(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},delay:et,defer:ut,throttle:function(n,t,r){var e,u,i,o,a=0;r||(r={});var f=function(){a=!1===r.leading?0:Kn(),e=null,o=n.apply(u,i),e||(u=i=null)},c=function(){var c=Kn();a||!1!==r.leading||(a=c);var l=t-(c-a);return u=this,i=arguments,l<=0||l>t?(e&&(clearTimeout(e),e=null),a=c,o=n.apply(u,i),e||(u=i=null)):e||!1===r.trailing||(e=setTimeout(f,l)),o};return c.cancel=function(){clearTimeout(e),a=0,e=u=i=null},c},debounce:function(n,t,r){var e,u,i,o,a,f=function(){var c=Kn()-u;t>c?e=setTimeout(f,t-c):(e=null,r||(o=n.apply(a,i)),e||(i=a=null))},c=j(function(c){return a=this,i=c,u=Kn(),e||(e=setTimeout(f,t),r&&(o=n.apply(a,i))),o});return c.cancel=function(){clearTimeout(e),e=i=a=null},c},wrap:function(n,t){return Yn(t,n)},negate:it,compose:function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},after:function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},before:ot,once:at,findKey:ft,findIndex:lt,findLastIndex:st,sortedIndex:pt,indexOf:ht,lastIndexOf:dt,find:yt,detect:yt,findWhere:function(n,t){return yt(n,Ln(t))},each:gt,forEach:gt,map:bt,collect:bt,reduce:wt,foldl:wt,inject:wt,reduceRight:jt,foldr:jt,filter:At,select:At,reject:function(n,t,r){return At(n,it(Fn(t)),r)},every:xt,all:xt,some:_t,any:_t,contains:Et,includes:Et,include:Et,invoke:St,pluck:Ot,where:function(n,t){return At(n,Ln(t))},max:kt,min:function(n,t,r){var e,u,i=Infinity,o=Infinity;if(null==t||"number"==typeof t&&"object"!=typeof n[0]&&null!=n)for(var a=0,f=(n=nt(n)?n:gn(n)).length;a<f;a++)null!=(e=n[a])&&e<i&&(i=e);else t=Fn(t,r),gt(n,function(n,r,e){((u=t(n,r,e))<o||Infinity===u&&Infinity===i)&&(i=n,o=u)});return i},shuffle:function(n){return It(n,Infinity)},sample:It,sortBy:function(n,t,r){var e=0;return t=Fn(t,r),Ot(bt(n,function(n,r,u){return{value:n,index:e++,criteria:t(n,r,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index}),"value")},groupBy:Lt,indexBy:Rt,countBy:Bt,partition:Nt,toArray:function(n){return n?V(n)?a.call(n):S(n)?n.match(Dt):nt(n)?bt(n,Mn):gn(n):[]},size:function(n){return null==n?0:nt(n)?n.length:nn(n).length},pick:Pt,omit:Tt,first:Vt,head:Vt,take:Vt,initial:Kt,last:function(n,t,r){return null==n||n.length<1?null==t||r?void 0:[]:null==t||r?n[n.length-1]:qt(n,Math.max(0,n.length-t))},rest:qt,tail:qt,drop:qt,compact:function(n){return At(n,Boolean)},flatten:function(n,t){return tt(n,t,!1)},without:Wt,uniq:Ct,unique:Ct,union:zt,intersection:function(n){for(var t=[],r=arguments.length,e=0,u=Y(n);e<u;e++){var i=n[e];if(!Et(t,i)){var o;for(o=1;o<r&&Et(arguments[o],i);o++);o===r&&t.push(i)}}return t},difference:Ut,unzip:$t,transpose:$t,zip:Jt,object:function(n,t){for(var r={},e=0,u=Y(n);e<u;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},range:function(n,t,r){null==t&&(t=n||0,n=0),r||(r=t<n?-1:1);for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;i<e;i++,n+=r)u[i]=n;return u},chunk:function(n,t){if(null==t||t<1)return[];for(var r=[],e=0,u=n.length;e<u;)r.push(a.call(n,e,e+=t));return r},mixin:Ht,default:rn});Qt._=Qt;var Xt={},Yt=!1,Zt=!0,nr=null,tr=["[data-navigo]","[data-route]"],rr=tr.slice(0),er=null;function ur(n,t,r,e){void 0===r&&(r=null),void 0===e&&(e=function(){}),Qt.isFunction(t.hooks[n])?t.hooks[n](function(n){void 0===n&&(n=!0),n&&e(n)},r):Qt.isArray(t.hooks[n])?function n(t,r,e){if(void 0===r&&(r=null),!t.length)return e(!0);var u=Qt.first(t);Qt.isFunction(u)&&u(function(u){if(void 0===u&&(u=!0),!u)return e(!1);n(Qt.rest(t),r,e)})}(t.hooks[n],r,function(n){void 0===n&&(n=!0),n&&e(n)}):e()}function ir(n,t){return void 0===t&&(t=null),ur("before",n,t,function(r){Qt.isArray(t)?n.method.apply({},t):n.method(t)})}function or(n,t,r){return void 0===t&&(t=null),void 0===r&&(r=function(n){}),ur("after",n,t,r)}function ar(n){var t,r;return nr&&(Yt&&console.log("was a last resolve",nr),void 0===(t=n)&&(t=null),void 0===r&&(r=function(n){}),ur("leave",nr,t,r)),this.resolve(),this}function fr(n){return Object.assign(this,n),this}n.WebRouter=function(){function n(n){for(var t in void 0===n&&(n={}),nr=null,n)this.on(t,n[t]);Zt&&(this.listen(),this.updatePageLinks())}var r,e,u,i=n.prototype;return i.on=function(n,t,r){void 0===n&&(n="/"),void 0===r&&(r={}),Yt&&console.log(".on(",n,t,r,")");var e=n,u=!1,i=[];if(Qt.isRegExp(n))u=!0,e=n.toString();else{var o=e.split("/").map(function(n){return n.startsWith(":")?(u=!0,i.push(n.slice(1)),"([^/]{1,})"):n});n=new RegExp("^"+o.join("/")+"$")}return Xt[e]=new fr({name:e,regExp:u?n:null,regExpKeys:i,method:t,hooks:r}),this},i.off=function(){var t=[].slice.call(arguments);if(Yt&&console.log(".off(",t,")"),0===t.length)n.reset(),window.removeEventListener("popstate",ar.bind(this),!1),delete window.hasListenerAttached;else{var r=t[0];delete Xt[r]}return this},i.listen=function(){return window.hasListenerAttached||(Yt&&console.log("listen() Attaching to window"),window.addEventListener("popstate",ar.bind(this),!1),window.hasListenerAttached=!0),this},i.updatePageLinks=function(n){var t=this;return void 0===n&&(n=null),Yt&&console.log("updatePageLinks",rr),rr.forEach(function(r){var e=document.querySelectorAll(r);Qt.each(e,function(r){r.hasListenerAttached||r.addEventListener("click",function(r){if(Yt&&console.log("CLICKED. Now navigate",r),(r.ctrlKey||r.metaKey)&&"a"===r.target.tagName.toLowerCase())return!1;r.preventDefault();var e=r.target.getAttribute("href");n?n.call(t,e):t.navigate(e)},!1),r.hasListenerAttached=!0})}),this},i.navigate=function(n,t){return void 0===t&&(t=null),window.history.pushState(t,null,n),this.resolve(),this},i.notFound=function(n){return Qt.isFunction(n)&&(er=n),this},i.resolve=function(n){void 0===n&&(n=window.location.pathname),Yt&&console.log("Resolve",n);var t=!1,r=function(r){var e=Xt[r];if(e.regExp){if(e.regExp){var u=n.match(e.regExp)||[],i=u.slice(1,e.regExpKeys.length+1),o={};if(u&&u.length){i.forEach(function(n,t){o[e.regExpKeys[t]]=decodeURIComponent(n)});var a=e.regExpKeys.length?o:u.slice(1).map(function(n){return decodeURIComponent(n)});t=!0,nr=e,ir(e,a),or(e,a)}}}else r===n&&(t=!0,nr=e,ir(e,{}),or(e,null))};for(var e in Xt)r(e);return t?Yt&&console.log("Route Matched",nr):(nr=null,er&&(Yt&&console.log("notFound"),er.call(this))),this},n.reset=function(){Xt={},Zt=!0,nr=null,er=null,rr=tr.slice(0)},n.addPageLinkSelectors=function(n){var t;void 0===n&&(n=[]),(t=rr).push.apply(t,n),rr=Qt.unique(rr)},r=n,u=[{key:"autoListen",set:function(n){return Zt=!!n}},{key:"routes",get:function(){return Xt}},{key:"lastResolved",get:function(){return nr}},{key:"debug",set:function(n){Yt=!!n}}],(e=[{key:"all",get:function(){return Xt}}])&&t(r.prototype,e),u&&t(r,u),n}()});
//# sourceMappingURL=web-router.umd.js.map
